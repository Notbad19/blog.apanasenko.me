<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="google-site-verification" content="bb8epm6suyHfvYU-yFKhhYMyg3SQ__QndlyH-vBmiAk" />
  <meta name='yandex-verification' content='74e7c4ae6d68c097' />
  <meta name="viewport" content="width=950, maximum-scale=1.0" />
  <meta name="description" content="–ï—Å—Ç—å –±–æ–ª—å—à–æ–π –ø–ª–∞—Å—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º: —Å–æ–∑–¥–∞–Ω–∏–µ –∂–µ–ª–µ–∑–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ü–û –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–æ–π, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω–∏–ª–∏—â—å, etc. –í—Å–µ —ç—Ç–æ –¥–≤–∏–≥–∞–µ—Ç grid  —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ cloud computing, –∏ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ–≥–æ —ç—Ç–æ–≥–æ –ª—é–¥–∏ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è —Å–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –ø—Ä–æ–±–ª–µ–º. –¢–∞–∫ –∫–∞–∫ –ø—Ä–æ–±–ª–µ–º –º–Ω–æ–≥–æ –º–Ω–µ —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –Ω–∞ –æ–¥–Ω–æ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–µ: —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö, –∞ –∏–º–µ–Ω–Ω–æ –Ω–∞ —Å–ø–æ—Å–æ–±–µ —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª—é—á–µ–π, —Ç–∞–∫ –∫–∞–∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ —Å—Ç—Ä–æ–∏—Ç—å—Å—è –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–π –ø–∞—Ä–∞–¥–∏–≥–º–æ–π —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —è–≤–ª—è–µ—Ç—å—Å—è Key-Value. –¢.–µ. –∫–∞–∂–¥–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É —Å—Ç–∞–≤–∏—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–∞–∫–æ–π-–ª–∏–±–æ –∫–ª—é—á. –≠—Ç–æ—Ç –∫–ª—é—á –≤—ã—Å—Ç—É–ø–∞–µ—Ç —Å—Ä–µ–¥—Å—Ç–≤–æ–º –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –∏ –¥–∞–Ω–Ω—ã—Ö, –∏  —Å –ø–æ–º–æ—â—å—é –Ω–µ–≥–æ –≤—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ –¥–æ—Å—Ç–∞—Ç–∞—Ç—å —Ç–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —Ç–µ–±–µ –Ω—É–∂–Ω—ã." />
  <meta http-equiv="description" content="–ï—Å—Ç—å –±–æ–ª—å—à–æ–π –ø–ª–∞—Å—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º: —Å–æ–∑–¥–∞–Ω–∏–µ –∂–µ–ª–µ–∑–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ü–û –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–æ–π, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω–∏–ª–∏—â—å, etc. –í—Å–µ —ç—Ç–æ –¥–≤–∏–≥–∞–µ—Ç grid  —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ cloud computing, –∏ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ–≥–æ —ç—Ç–æ–≥–æ –ª—é–¥–∏ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è —Å–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –ø—Ä–æ–±–ª–µ–º. –¢–∞–∫ –∫–∞–∫ –ø—Ä–æ–±–ª–µ–º –º–Ω–æ–≥–æ –º–Ω–µ —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –Ω–∞ –æ–¥–Ω–æ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–µ: —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö, –∞ –∏–º–µ–Ω–Ω–æ –Ω–∞ —Å–ø–æ—Å–æ–±–µ —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª—é—á–µ–π, —Ç–∞–∫ –∫–∞–∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ —Å—Ç—Ä–æ–∏—Ç—å—Å—è –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–π –ø–∞—Ä–∞–¥–∏–≥–º–æ–π —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —è–≤–ª—è–µ—Ç—å—Å—è Key-Value. –¢.–µ. –∫–∞–∂–¥–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É —Å—Ç–∞–≤–∏—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–∞–∫–æ–π-–ª–∏–±–æ –∫–ª—é—á. –≠—Ç–æ—Ç –∫–ª—é—á –≤—ã—Å—Ç—É–ø–∞–µ—Ç —Å—Ä–µ–¥—Å—Ç–≤–æ–º –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –∏ –¥–∞–Ω–Ω—ã—Ö, –∏  —Å –ø–æ–º–æ—â—å—é –Ω–µ–≥–æ –≤—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ –¥–æ—Å—Ç–∞—Ç–∞—Ç—å —Ç–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —Ç–µ–±–µ –Ω—É–∂–Ω—ã.ß"> 
  <meta name="robots" content="all"> 
  <meta name="resourse-type" content="document"> 
  <meta name="document-state" content="dynamic"> 
  <meta name="revisit-after" content="1 days"> 
  <meta http-equiv="author" content="Anton Panasenko">
  <meta name="copyright" content="Copyright (C) 2011 "> 
  <meta name="document-state" content="dynamic"> 
  <link rev="made" href="anton.panasenko@gmail.com"> 
  <meta http-equiv="reply-to" content="anton.panasenko@gmail.com"> 
  <meta name="site-created" content="Anton Panasenko - blog.apanasenko.me"> 
  <meta name="addres" content="blog.apanasenko.me"> 
  <meta name="distribution" content="global"> 
  <title>
    Consistent hashing -  Anton Panasenko
  </title>
  <link rel="stylesheet" href="/css/reset.css" type="text/css" />
  
  <link rel="stylesheet" href="/css/screen.css" type="text/css" />
  <link rel="stylesheet" href="/css/syntax.css" type="text/css" />
  <link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="/css/iphone.css" type="text/css" />
  <link rel="stylesheet" media="only screen and (max-device-width: 1024px)" href="/css/ipad.css" type="text/css" />
  <link rel="alternate" type="application/atom+xml" href="http://feeds.feedburner.com/apanasenko" />
  <link href="/images/favicon.ico" rel="shortcut icon" type="image/x-icon" />
  <link href="/images/icon.jpg" rel="apple-touch-icon" />
</head>
<body>
  <div id="wrapper">
    <div class="center"><a href="http://blog.apanasenko.me/"><img class="header" alt="header image" src="/images/header.jpg"/></a></div>
    <div id="inner">
      <div id="container">
        <div id="header">
          <h1>
            
              <a href="/">&larr; Anton Panasenko</a>
            
          </h1>
          <ul class="header">
            <li>
              <a href="/archive">Archive</a>
            </li>
	    <li>
		<a href="http://ru.linkedin.com/in/apanasenko/">LinkedIn <span class="arrow">&rarr;</span></a>
	    </li>
            <li>
		<a href="http://github.com/dieu">Github <span class="arrow">&rarr;</span>
            </li>
            <li>
              <a href="http://twitter.com/apanasenko">Twitter <span class="arrow">&rarr;</span></a>
            </li>
          </ul>
          <hr class="right"/>
        </div>
        <h2>Consistent hashing</h2>
        

<span id="article_buttons">
  <a id="tweet">
    <span class="balloon">tweet!</span> <img src="/images/tweet.png"/ alt="tweet"/>
  </a>
  <a href="http://feeds.feedburner.com/apanasenko">
    <span class="balloon">subscribe!</span> <img src="/images/feed.png" alt="feed"/> 
  </a>
</span>

<hr/>

<div id="content">
	<div style="width:425px;text-align:left" id="__ss_2608110">
<p><object style="margin:0px" width="425" height="355"><param name="movie" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=hash-091129130633-phpapp01&stripped_title=ss-2608110" /><br />
<param name="allowFullScreen" value="true"/><br />
<param name="allowScriptAccess" value="always"/><br />
<embed src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=hash-091129130633-phpapp01&stripped_title=ss-2608110" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="425" height="355"></embed></object><div style="font-size:11px;font-family:tahoma,arial;height:26px;padding-top:2px;"><br />
View more <a style="text-decoration:underline;" href="http://www.slideshare.net/">presentations</a> from <a style="text-decoration:underline;" href="http://www.slideshare.net/DieuMort">Anton</a>. Download <a style="text-decoration:underline;" href="http://www.slideshare.net/DieuMort/ss-2608110" title="–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ —Ö–µ—à–∏">here</a>.</div></p>
</div>
<h4>–ó–∞—á–µ–º?</h4>
<p>–ï—Å—Ç—å –±–æ–ª—å—à–æ–π –ø–ª–∞—Å—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º: —Å–æ–∑–¥–∞–Ω–∏–µ –∂–µ–ª–µ–∑–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ü–û –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–æ–π, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω–∏–ª–∏—â—å, etc. –í—Å–µ —ç—Ç–æ –¥–≤–∏–≥–∞–µ—Ç grid  —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ cloud computing, –∏ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ–≥–æ —ç—Ç–æ–≥–æ –ª—é–¥–∏ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è —Å–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –ø—Ä–æ–±–ª–µ–º. –¢–∞–∫ –∫–∞–∫ –ø—Ä–æ–±–ª–µ–º –º–Ω–æ–≥–æ –º–Ω–µ —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –Ω–∞ –æ–¥–Ω–æ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–µ: —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö, –∞ –∏–º–µ–Ω–Ω–æ –Ω–∞ —Å–ø–æ—Å–æ–±–µ —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª—é—á–µ–π, —Ç–∞–∫ –∫–∞–∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ —Å—Ç—Ä–æ–∏—Ç—å—Å—è –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–π –ø–∞—Ä–∞–¥–∏–≥–º–æ–π —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —è–≤–ª—è–µ—Ç—å—Å—è Key-Value. –¢.–µ. –∫–∞–∂–¥–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É —Å—Ç–∞–≤–∏—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–∞–∫–æ–π-–ª–∏–±–æ –∫–ª—é—á. –≠—Ç–æ—Ç –∫–ª—é—á –≤—ã—Å—Ç—É–ø–∞–µ—Ç —Å—Ä–µ–¥—Å—Ç–≤–æ–º –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –∏ –¥–∞–Ω–Ω—ã—Ö, –∏  —Å –ø–æ–º–æ—â—å—é –Ω–µ–≥–æ –≤—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ –¥–æ—Å—Ç–∞—Ç–∞—Ç—å —Ç–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —Ç–µ–±–µ –Ω—É–∂–Ω—ã.</p>
<h4>–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã</h4>
<ol>
	<li><strong>–ù–µ–æ–±—Ö–æ–¥–∏–º–∞ —Ñ—É–Ω–∫—Ü–∏—è</strong>:</li>
</ol>
<div>
<pre>
<code class='scala'>f(–∫–ª—é—á)= –Ω–æ–º–µ—Ä_—Å–µ—Ä–≤–µ—Ä–∞</code>
</pre>
</div>
<p>–£ –¥–∞–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –µ—Å—Ç—å –æ—á–µ–≤–∏–¥–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –≤ —Ç–æ–º —á—Ç–æ –º—ã –Ω–µ –∑–Ω–∞–µ–º –∑–∞—Ä–∞–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π –∏ –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ –¥–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–≤–æ–¥–∏—Ç—å—Å—è –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –ø–æ–¥—Ö–æ–¥—É.</p>
<ol>
	<li><strong>¬´–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç¬ª –ø–æ –º–æ–¥—É–ª—é</strong>:</li>
</ol>
<div>
<pre>
<code class='scala'>f(–∫–ª—é—á)= crc32(–∫–ª—é—á) % –∫–æ–ª-–≤–æ_—Å–µ—Ä–≤–µ—Ä–æ–≤</code>
</pre>
</div>
<p>–ü—Ä–∏ —ç—Ç–æ–º –ø–æ–¥—Ö–æ–¥–µ –ø—Ä–æ–±–ª–µ–º—ã –≤–æ–∑–Ω–∏–∫–∞—é—Ç –∫–æ–≥–¥–∞ –∏–∑–º–µ–Ω—è—Ç—å—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã, –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∫–æ–≥–¥–∞ —É –Ω–∞—Å —É–¥–∞–ª—è–µ—Ç—Å—è –∏–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Å–µ—Ä–≤–µ—Ä –Ω–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ, –ø—Ä–∏ —á–µ–º —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç –æ—á–µ–Ω—å –º–Ω–æ–≥–æ. –î–ª—è –ø—Ä–∏–º–µ—Ä–∞ –ø—É—Å—Ç—å —É –Ω–∞—Å –µ—Å—Ç—å 100 –∫–ª—é—á–µ–π, –ø–æ 25 –Ω–∞ –∫–∞–∂–¥–æ–º (4 —Å–µ—Ä–≤–µ—Ä–∞), –ø—É—Å—Ç—å —Ö—ç—à –∫–∞–∂–¥–æ–≥–æ –∫–ª—é—á–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –µ–≥–æ –Ω–æ–º–µ—Ä—É. –¢–æ–≥–¥–∞ –∫–ª—é—á–∏ 0, 4, 8,‚Ä¶ –ª–µ–∂–∞—Ç –Ω–∞ 1-–º —Å–µ—Ä–≤–µ—Ä–µ, 1, 5, 9,‚Ä¶ ‚Äî –Ω–∞ 2-–º, 2, 6, 10,‚Ä¶ ‚Äî –Ω–∞ 3-–º –∏ 3, 7, 11,‚Ä¶ ‚Äî –Ω–∞ 4-–º. –í–¥—Ä—É–≥ —Å–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ 4-–π —Å–µ—Ä–≤–µ—Ä –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ —Å—Ç—Ä–æ—è, –∏ —Ç–µ–ø–µ—Ä—å —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–ª—é—á–µ–π –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞: –∫–ª—é—á % 3. –ò –≤ —ç—Ç–æ–≥–µ –∫–ª—é—á–∏ 3, 7, 11,‚Ä¶ –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ—Ç–µ—Ä—è–Ω—ã (—Ç. –∫. –ª–µ–∂–∞–ª–∏ –Ω–∞ —É–ø–∞–≤—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ), —ç—Ç–æ 25% –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –î–∞–ª–µ–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è —á—Ç–æ –Ω–∞ –Ω–∞–¥–æ –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–ª—é—á–∏ —Ç–∞–∫ –∫–∞–∫, –∫–ª—é—á 6 ‚Äî –ª–µ–∂–∞–ª –Ω–∞ 3-–º —Å–µ—Ä–≤–µ—Ä–µ, —Ç–µ–ø–µ—Ä—å –æ–Ω –ª–µ–∂–∏—Ç –Ω–∞ 1-–º, –∫–ª—é—á 5 ‚Äî —Ä–∞–Ω—å—à–µ –ª–µ–∂–∞–ª –Ω–∞ 1-–º, —Ç–µ–ø–µ—Ä—å –æ–Ω –Ω–∞ 3-–º —Å–µ—Ä–≤–µ—Ä–µ –∏ —Ç. –¥. –°–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–π —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ —Å–≤–æ—ë —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ? –¢–µ, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö k % 3 = k % 4. –°–∫–æ–ª—å–∫–æ —Ç–∞–∫–∏—Ö?</p>
<h3>Consistent hashing</h3>
<p>–ì–¥–µ –∂–µ –≤—ã—Ö–æ–¥? –ê –æ–Ω –≥–¥–µ —Ç–æ —Ä—è–¥–æ–º, –∞ –∏–º–µ–Ω–Ω–æ –≤ <strong>–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ —Ö—ç—à–∞—Ö</strong>. <br />
<div style="text-align: center;"><br />
<img src="http://lh6.ggpht.com/_wN3Yn5K_LYs/SxK8cBAXzXI/AAAAAAAAADo/z5-W6YJPU4c/consistent_hashing_1.png?imgmax=800" alt="consistent_hashing_1.png" width="237" height="239" align="center" /><img src="http://lh4.ggpht.com/_wN3Yn5K_LYs/SxK8i-eCrxI/AAAAAAAAADs/Et4jmQ9NbOM/consistent_hashing_2.png?imgmax=800" alt="consistent_hashing_2.png" width="237" height="239" align="center" /></div><br />
–°—É—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º: –º—ã —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º –Ω–∞–±–æ—Ä —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª –æ—Ç 0 –¥–æ 2^32, ¬´–∑–∞–∫—Ä—É—á–∏–≤–∞—è¬ª —á–∏—Å–ª–æ–≤—É—é –æ—Å—å –≤ –∫–æ–ª—å—Ü–æ (—Å–∫–ª–µ–∏–≤–∞–µ–º 0 –∏ 2^32). –ö–∞–∂–¥–æ–º—É —Å–µ—Ä–≤–µ—Ä–∞ –∏–∑ –ø—É–ª–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤ –º—ã —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ–º —á–∏—Å–ª–æ –Ω–∞ –∫–æ–ª—å—Ü–µ (—Ä–∏—Å—É–Ω–æ–∫ —Å–ª–µ–≤–∞, —Å–µ—Ä–≤–µ—Ä–∞ A, B –∏ C). –ö–ª—é—á —Ö—ç—à–∏—Ä—É–µ—Ç—Å—è –≤ —á–∏—Å–ª–æ –≤ —Ç–æ–º –∂–µ –¥–∏–∞–ø–∞–∑–æ–Ω–µ (–Ω–∞ —Ä–∏—Å—É–Ω–∫–µ ‚Äì —Å–∏–Ω–∏–µ —Ç–æ—á–∫–∏ 1-4), –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–ª—é—á–∞ –º—ã –≤—ã–±–∏—Ä–∞–µ–º —Å–µ—Ä–≤–µ—Ä –≤ —Ç–æ—á–∫–µ, –±–ª–∏–∂–∞–π—à–µ–π –∫ —Ç–æ—á–∫–µ –∫–ª—é—á–∞ –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø–æ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–µ. –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –ø—É–ª–∞ –∏–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –ø—É–ª, –Ω–∞ –æ—Å–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∏–ª–∏ –∏—Å—á–µ–∑–∞–µ—Ç —Ç–æ—á–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞, –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —á–µ–≥–æ –ª–∏—à—å —á–∞—Å—Ç—å –∫–ª—é—á–µ–π –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –Ω–∞ –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–µ—Ä. –ù–∞ —Ä–∏—Å—É–Ω–∫–µ 2 —Å–ø—Ä–∞–≤–∞ –ø–æ–∫–∞–∑–∞–Ω–∞ —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä C –±—ã–ª —É–¥–∞–ª—ë–Ω –∏–∑ –ø—É–ª–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏ –¥–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä D. –õ–µ–≥–∫–æ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –∫–ª—é—á–∏ 1 –∏ 2 –Ω–µ –ø–æ–º–µ–Ω—è–ª–∏ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ —Å–µ—Ä–≤–µ—Ä–∞–º, –∞ –∫–ª—é—á–∏ 3 –∏ 4 –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª–∏—Å—å –Ω–∞ –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–µ—Ä–∞. –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –æ–¥–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É —Å—Ç–∞–≤–∏—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ 100-200 —Ç–æ—á–µ–∫ –Ω–∞ –æ—Å–∏ (–ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –µ–≥–æ –≤–µ—Å—É –≤ –ø—É–ª–µ), —á—Ç–æ —É–ª—É—á—à–∞–µ—Ç —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–ª—é—á–µ–π –ø–æ —Å–µ—Ä–≤–µ—Ä–∞–º –≤ —Å–ª—É—á–∞–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. <br />
–í —Å–ª—É—á–∞–µ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∫–ª—é—á–µ–π —Ä–∞–Ω–µ–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫, —á—Ç–æ –∫–ª—é—á–∏ –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –Ω–∞ 3—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö –∏ –æ—Å—Ç–∞–ª–∏—Å—å –≤ —Ä–∞–±–æ—á–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏, –Ω–∞ –Ω–∏—Ö –∂–µ –∏ –æ—Å—Ç–∞–Ω—É—Ç—Å—è. –ê –∫–ª—é—á–∏ —Å 4-–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å—Å—è –ø–æ 3-–º –æ—Å—Ç–∞–≤—à–∏–º—Å—è, –º—ã –ø–æ—Ç–µ—Ä—è–ª–∏ —Ä–æ–≤–Ω–æ 25% –∫–ª—é—á–µ–π ‚Äî –≤–æ–∑–º–æ–∂–Ω—ã–π –º–∏–Ω–∏–º—É–º.</p>
<h4>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</h4>
<div style="text-align:center;">
<p><img src="http://lh3.ggpht.com/_wN3Yn5K_LYs/SxLDHP00vbI/AAAAAAAAAD4/HrKkDhOB468/Picture%2024.png?imgmax=800" alt="Picture 24.png" width="394" height="414" align="center" /><img src="http://lh4.ggpht.com/_wN3Yn5K_LYs/SxLDL2ou0sI/AAAAAAAAAD8/87ai2-ADjUE/Picture%2027.png?imgmax=800" alt="Picture 27.png" width="394" height="414" align="center" /></div></p>

	
		<h4>Posted 29 Nov 2009 by Anton Panasenko | tags:
		 
			
				<a href="/search/label/grid">grid</a>,
			 
		 
					
				<a href="/search/label/hash">hash</a>
			 
		 
			
				and <a href="/search/label/consistent">consistent</a>.
			 
		
	</h4>
</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
  (function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = 'http://dieu.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!--

-->

      </div>

      <div id="slide_bar">
		<div id="subscribe">
			<a href="http://feeds.feedburner.com/apanasenko" rel="alternate" title="–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –º–æ–π —Ñ–∏–¥" type="application/rss+xml"><img alt="" src="http://lh3.ggpht.com/_wN3Yn5K_LYs/SviFaWzVaAI/AAAAAAAAACE/t5QGxBDsiMs/rss.png"/></a>
		</div>	
        <div id="cloud_tag">
          <div id="cloud_tag_div">
                <ol id="tag-cloud"><li title="1 post"><a href="/search/label/actors">actors</a></li> <li title="1 post"><a href="/search/label/alice">alice</a></li> <li title="2 posts"><a href="/search/label/amazon">amazon</a></li> <li title="1 post"><a href="/search/label/apple">apple</a></li> <li title="1 post"><a href="/search/label/aws">aws</a></li> <li title="1 post"><a href="/search/label/azure">azure</a></li> <li title="1 post"><a href="/search/label/blog">blog</a></li> <li title="1 post"><a href="/search/label/book">book</a></li> <li title="1 post"><a href="/search/label/build">build</a></li> <li title="1 post"><a href="/search/label/cassandra">cassandra</a></li> <li title="1 post"><a href="/search/label/chef">chef</a></li> <li title="1 post"><a href="/search/label/client">client</a></li> <li title="1 post"><a href="/search/label/clips">clips</a></li> <li title="1 post"><a href="/search/label/clojure">clojure</a></li> <li title="1 post"><a href="/search/label/cloud">cloud</a></li> <li title="1 post"><a href="/search/label/consistent">consistent</a></li> <li title="1 post"><a href="/search/label/db">db</a></li> <li title="1 post"><a href="/search/label/deploy">deploy</a></li> <li title="1 post"><a href="/search/label/django">django</a></li> <li title="2 posts"><a href="/search/label/dvcs">dvcs</a></li> <li title="2 posts"><a href="/search/label/ec2">ec2</a></li> <li title="4 posts"><a href="/search/label/erlang">erlang</a></li> <li title="5 posts"><a href="/search/label/fl">fl</a></li> <li title="5 posts"><a href="/search/label/fp">fp</a></li> <li title="1 post"><a href="/search/label/gen_server">gen_server</a></li> <li title="1 post"><a href="/search/label/gfs">gfs</a></li> <li title="1 post"><a href="/search/label/git">git</a></li> <li title="1 post"><a href="/search/label/github">github</a></li> <li title="2 posts"><a href="/search/label/google">google</a></li> <li title="2 posts"><a href="/search/label/grid">grid</a></li> <li title="1 post"><a href="/search/label/hash">hash</a></li> <li title="2 posts"><a href="/search/label/hg">hg</a></li> <li title="1 post"><a href="/search/label/ipad">ipad</a></li> <li title="2 posts"><a href="/search/label/java">java</a></li> <li title="1 post"><a href="/search/label/jekyll">jekyll</a></li> <li title="3 posts"><a href="/search/label/jvm">jvm</a></li> <li title="1 post"><a href="/search/label/mac os">mac os</a></li> <li title="1 post"><a href="/search/label/mapreduce">mapreduce</a></li> <li title="1 post"><a href="/search/label/mercurial">mercurial</a></li> <li title="2 posts"><a href="/search/label/nosql">nosql</a></li> <li title="1 post"><a href="/search/label/objective-c">objective-c</a></li> <li title="1 post"><a href="/search/label/osgi">osgi</a></li> <li title="1 post"><a href="/search/label/pax">pax</a></li> <li title="1 post"><a href="/search/label/python">python</a></li> <li title="2 posts"><a href="/search/label/rabbitmq">rabbitmq</a></li> <li title="1 post"><a href="/search/label/ruby">ruby</a></li> <li title="3 posts"><a href="/search/label/scala">scala</a></li> <li title="1 post"><a href="/search/label/scheme">scheme</a></li> <li title="1 post"><a href="/search/label/server">server</a></li></ol>

          </div>
        </div>
		<br/>
		<div id="iready">
	    	<ol>
<li><a href="http://alenacpp.blogspot.com/">–ê–ª–µ–Ω–∞ –°++</a></li>
<li></li>
<li><a href="http://samolisov.blogspot.com/">–ß–µ–ª—è–±–∏–Ω—Å–∫–∏–π –ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç</a></li>
</ol>
        </div>
        <br/>
      </div> 
    </div>
  </div>

  <script src="/js/jquery.js" type="text/javascript"></script>
  <script src="/js/twitter.js" type="text/javascript"></script>
  <script type="text/javascript">
	var disqus_shortname = 'dieu';
	(function () {
	    var s = document.createElement('script'); s.async = true;
	    s.src = 'http://disqus.com/forums/dieu/count.js';
	    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
	}());
  </script>

  
<!-- Yandex.Metrika -->
<div style="display:none;"><script type="text/javascript">
(function(w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            w.yaCounter445478 = new Ya.Metrika(445478);
             yaCounter445478.clickmap(true);
             yaCounter445478.trackLinks(true);

        } catch(e) {}
    });
})(window, 'yandex_metrika_callbacks');
</script></div>
<script src="//mc.yandex.ru/metrika/watch.js" type="text/javascript" defer="defer"></script>
<noscript><div style="position:absolute"><img src="//mc.yandex.ru/watch/445478" alt="" /></div></noscript>
<!-- /Yandex.Metrika -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-6891853-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>
