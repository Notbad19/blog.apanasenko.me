<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru">
	<head>
 	  	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	  	<title>
	    	 CLIPS  
	  	</title>
		<link rel="stylesheet" href="/css/style.css" type="text/css" media="all"/>
	</head>
<body>
<div id="header">
	<ul id="nav" class="nav"> 
		<li id="main" class="selected"><a href="/"><strong>Home</strong><span>main page</span></a></li> 
		<li id="post"><a href="/2009/11/clips"><strong>Blog</strong> <span>post</span></a></li>
		<li id="archive"><a href="/archive"><strong>Archive</strong></a></li> 
		<li><a href="http://ru.linkedin.com/in/apanasenko/"><strong>LinkedIn</strong> <span>&rarr;</span></a></li> 
		<li><a href="http://github.com/dieu"><strong>Github</strong> <span>&rarr;</span></a></li> 
		<li><a href="http://twitter.com/apanasenko"><strong>Twitter</strong> <span>&rarr;</span></a></li> 
	</ul>
</div>
<div id="container">			
	<div class="bar"> 
	</div> 
	<br/>
	<div id="content">
			<!-- <span id="article_buttons">
  <a id="tweet">
    <span class="balloon">tweet!</span> <img src="/images/tweet.png"/ alt="tweet"/>
  </a>
  <a href="http://feeds.feedburner.com/apanasenko">
    <span class="balloon">subscribe!</span> <img src="/images/feed.png" alt="feed"/> 
  </a>
</span>

<hr/> -->

<div class="content">
	<h4><span class="caps">CLIPS</span>?</h4>
<center><img src="http://clipsrules.sourceforge.net/clips.gif" alt="Mercurial_logo.png" width="200" height="240" /></center>
<p><strong><span class="caps">CLIPS</span></strong> (C Language Integrated Production System) &#8211; это язык c clojure&#8217;о подобным синтаксисом, название которого предложено Чарльзом Форги (Charles Forgy). <strong><span class="caps">CLIPS</span></strong> создавался для простой и быстрой разработки экспертных систем. У него есть несколько потомков:</p>
<ol>
	<li><a href="http://www.jessrules.com">Jess</a> (часть <span class="caps">CLIPS</span>, работающая с правилами и переписанная на Java, позже развившаяся в другом направлении);</li>
	<li><a href="http://eclipse-clp.org">ECLiPSe</a>;</li>
	<li><a href="http://ai.iit.nrc.ca/IR_public/fuzzy/fuzzyClips/fuzzyCLIPSIndex.html">FuzzyCLIPS</a>.</li>
</ol>
<p>К 1985 <span class="caps">NASA</span> стандартизировал свои разработки в области искусственного интеллекта на <span class="caps">ART</span>, но у него возникла необходимость в том, чтобы программы выполнялись на персональных компьютерах типа Macintosh и <span class="caps">IBM</span>. В результате Software Technology Branch в Космическом центре имени Джонсона имитировал возможность вывода от фактов к цели и синтаксис языка <span class="caps">ART</span> и ввел &#8220;Интегрированную Систему Продукции на Языке C&#8221; (то есть, <span class="caps">CLIPS</span>) в общественное применение. Правительственное финансирование для разработки или поддержки <span class="caps">CLIPS</span> было прекращено несколько лет назад.</p>
<p><strong><span class="caps">CLIPS</span></strong> редко используется для коммерческих целей из-за отсутствия длительного финансирования и других практических, коммерческих соображений, особенно по сравнению с функциональными преимуществами <span class="caps">ART</span> &#8211; IM Inference Corporatin. Следуя CLIPS&#8217;у <span class="caps">NASA</span>, Inference Corpotation воплотила вывод &#8220;от фактов к цели&#8221;, объединив <span class="caps">ART</span> и <span class="caps">CLIPS</span>. <br />
Скачать интерпретатор и <span class="caps">IDE</span> можно <a href="http://clipsrules.sourceforge.net/">отсюда</a> для Mac OS и Windows.</p>
<h4>ЭС?</h4>
<p><strong>Экспертная система</strong> (ЭС, expert system) — компьютерная программа, способная частично заменить специалиста-эксперта в разрешении проблемной ситуации. <strong>ЭС</strong> начали разрабатываться исследователями искусственного интеллекта в 1970-х годах, а в 1980-х получили коммерческое подкрепление.</p>
<p>В информатике экспертные системы рассматриваются совместно с базами знаний как модели поведения экспертов в определенной области знаний с использованием процедур логического вывода и принятия решений, а базы знаний — как совокупность фактов и правил логического вывода в выбранной предметной области деятельности.</p>
<p>Похожие действия выполняет программа-мастер. Мастера применяются как в системных программах так и в прикладных для интерактивного общения с пользователем (например, при установке ПО). Главное отличие мастеров от ЭС — отсутствие базы знаний; все действия жестко запрограммированы. Это просто набор форм для заполнения пользователем.</p>
<p>Другие подобные программы — поисковые или справочные (энциклопедические) системы. По запросу пользователя они предоставляют наиболее подходящие (релевантные) разделы базы статей (представления об объектах областей знаний, их виртуальную модель).<br />
Классификация ЭС по решаемой задаче:</p>
<ol>
	<li>Интерпретация данных;</li>
	<li>Диагностирование;</li>
	<li>Мониторинг;</li>
	<li>Проектирование;</li>
	<li>Прогнозирование;</li>
	<li>Сводное Планирование;</li>
	<li>Обучение;</li>
	<li>Управление;</li>
	<li>Ремонт;</li>
	<li>Отладка.</li>
</ol>
<h4>Небольшой пример</h4>
<div class="highlight"><pre><code class="clojure"><span class="p">(</span><span class="nf">deffunction</span> <span class="nv">ask-question</span> <span class="p">(</span><span class="nf">?question</span> <span class="nv">$?allowed-values</span><span class="p">)</span>
 <span class="p">(</span><span class="nf">printout</span> <span class="nv">t</span> <span class="nv">?question</span><span class="p">)</span> 
 <span class="p">(</span><span class="nf">bind</span> <span class="nv">?answer</span> <span class="p">(</span><span class="nf">read</span><span class="p">))</span> 
 <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nf">lexemep</span> <span class="nv">?answer</span><span class="p">)</span> <span class="nv">then</span>
  <span class="p">(</span><span class="nf">bind</span> <span class="nv">?answer</span> <span class="p">(</span><span class="nf">lowcase</span> <span class="nv">?answer</span><span class="p">)))</span>
 <span class="p">(</span><span class="nf">while</span> <span class="p">(</span><span class="nb">not </span><span class="p">(</span><span class="nf">member</span> <span class="nv">?answer</span> <span class="nv">?allowed-values</span><span class="p">))</span> <span class="nv">do</span> 
  <span class="p">(</span><span class="nf">printout</span> <span class="nv">t</span> <span class="nv">?question</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">bind</span> <span class="nv">?answer</span> <span class="p">(</span><span class="nf">read</span><span class="p">))</span>
  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nf">lexemep</span> <span class="nv">?answer</span><span class="p">)</span> <span class="nv">then</span>
   <span class="p">(</span><span class="nf">bind</span> <span class="nv">?answer</span> <span class="p">(</span><span class="nf">lowcase</span> <span class="nv">?answer</span><span class="p">))))</span>
 <span class="nv">?answer</span>
<span class="p">)</span>

<span class="p">(</span><span class="nf">deffunction</span> <span class="nv">yes-or-no-p</span> <span class="p">(</span><span class="nf">?question</span><span class="p">)</span> 
 <span class="p">(</span><span class="nf">bind</span> <span class="nv">?response</span> <span class="p">(</span><span class="nf">ask-question</span> <span class="nv">?question</span> <span class="nv">yes</span> <span class="nv">no</span> <span class="err">у</span> <span class="nv">n</span><span class="p">))</span> 
 <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">or </span><span class="p">(</span><span class="nf">eq</span> <span class="nv">?response</span> <span class="nv">yes</span><span class="p">)</span> <span class="p">(</span><span class="nf">eq</span> <span class="nv">?response</span> <span class="nv">y</span><span class="p">))</span> <span class="nv">then</span>
  <span class="nv">TRUE</span> 
 <span class="nv">else</span>
  <span class="nv">FALSE</span><span class="p">)</span>
 <span class="p">)</span>
<span class="p">)</span>

<span class="p">(</span><span class="nf">defrule</span> <span class="nv">dela</span>  <span class="s">&quot;&quot;</span> 
 <span class="p">(</span><span class="nb">not </span><span class="p">(</span><span class="nf">repair</span> <span class="nv">?</span><span class="p">)</span> <span class="p">)</span>
  <span class="nv">=&gt;</span>
   <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nf">yes-or-no-p</span> <span class="s">&quot;Все хорошо? &quot;</span><span class="p">)</span> <span class="nv">then</span>
    <span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nf">repair</span> <span class="s">&quot;веселый&quot;</span><span class="p">))</span>
   <span class="nv">else</span>
    <span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nf">repair</span> <span class="s">&quot;смурной&quot;</span><span class="p">))</span>
   <span class="p">)</span>
<span class="p">)</span>

<span class="p">(</span><span class="nf">defrule</span> <span class="nv">system-banner</span> <span class="s">&quot;&quot;</span>
 <span class="p">(</span><span class="nf">declare</span> <span class="p">(</span><span class="nf">salience</span> <span class="mi">10</span><span class="p">))</span> 
  <span class="nv">=&gt;</span>
   <span class="p">(</span><span class="nf">printout</span> <span class="nv">t</span> <span class="nv">crlf</span> <span class="nv">crlf</span><span class="p">)</span>
   <span class="p">(</span><span class="nf">printout</span> <span class="nv">t</span> <span class="s">&quot;**********************************&quot;</span> <span class="nv">crlf</span><span class="p">)</span> 
   <span class="p">(</span><span class="nf">printout</span> <span class="nv">t</span> <span class="s">&quot;* Экспертная система      *&quot;</span> <span class="nv">crlf</span><span class="p">)</span> 
   <span class="p">(</span><span class="nf">printout</span> <span class="nv">t</span> <span class="s">&quot;**********************************&quot;</span> <span class="nv">crlf</span><span class="p">)</span>
   <span class="p">(</span><span class="nf">printout</span> <span class="nv">t</span> <span class="nv">crlf</span> <span class="nv">crlf</span><span class="p">)</span> 
<span class="p">)</span> 
<span class="p">(</span><span class="nf">defrule</span> <span class="nv">print-repair</span> <span class="s">&quot;&quot;</span>
 <span class="p">(</span><span class="nf">declare</span> <span class="p">(</span><span class="nf">salience</span> <span class="mi">10</span><span class="p">))</span> 
 <span class="p">(</span><span class="nf">repair</span> <span class="nv">?item</span><span class="p">)</span> 
  <span class="nv">=&gt;</span>
   <span class="p">(</span><span class="nf">printout</span> <span class="nv">t</span> <span class="nv">crlf</span> <span class="nv">crlf</span><span class="p">)</span>
   <span class="p">(</span><span class="nf">printout</span> <span class="nv">t</span> <span class="s">&quot;Вы:&quot;</span><span class="p">)</span>
   <span class="p">(</span><span class="nf">printout</span> <span class="nv">t</span>  <span class="nv">crlf</span>  <span class="nv">crlf</span><span class="p">)</span>
   <span class="p">(</span><span class="nf">format</span>  <span class="nv">t</span>   <span class="s">&quot;   %s%n%n%n&quot;</span>   <span class="nv">?item</span><span class="p">)</span>
<span class="p">)</span>
</code></pre>
</div><p>В этом примере используются основные функции и правила, для написания простой ЭС.<br />
Основная функция:</p>
<div class="highlight"><pre><code class="clojure"><span class="p">(</span><span class="nf">deffunction</span> <span class="nv">ask-question</span> <span class="p">(</span><span class="nf">?question</span> <span class="nv">$?allowed-values</span><span class="p">)</span>
 <span class="p">(</span><span class="nf">printout</span> <span class="nv">t</span> <span class="nv">?question</span><span class="p">)</span> 
 <span class="p">(</span><span class="nf">bind</span> <span class="nv">?answer</span> <span class="p">(</span><span class="nf">read</span><span class="p">))</span> 
 <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nf">lexemep</span> <span class="nv">?answer</span><span class="p">)</span> <span class="nv">then</span>
  <span class="p">(</span><span class="nf">bind</span> <span class="nv">?answer</span> <span class="p">(</span><span class="nf">lowcase</span> <span class="nv">?answer</span><span class="p">)))</span>
 <span class="p">(</span><span class="nf">while</span> <span class="p">(</span><span class="nb">not </span><span class="p">(</span><span class="nf">member</span> <span class="nv">?answer</span> <span class="nv">?allowed-values</span><span class="p">))</span> <span class="nv">do</span> 
  <span class="p">(</span><span class="nf">printout</span> <span class="nv">t</span> <span class="nv">?question</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">bind</span> <span class="nv">?answer</span> <span class="p">(</span><span class="nf">read</span><span class="p">))</span>
  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nf">lexemep</span> <span class="nv">?answer</span><span class="p">)</span> <span class="nv">then</span>
   <span class="p">(</span><span class="nf">bind</span> <span class="nv">?answer</span> <span class="p">(</span><span class="nf">lowcase</span> <span class="nv">?answer</span><span class="p">))))</span>
 <span class="nv">?answer</span>
<span class="p">)</span>
</code></pre>
</div><p>она считывает из диалогового окна интерпретатора все что вы вводите с клавиатуры и возвращает это. <br />
Следующая функция выбирает ввели вы или нет требуемый ответ (конкретно yes или no):</p>
<div class="highlight"><pre><code class="clojure"><span class="p">(</span><span class="nf">deffunction</span> <span class="nv">yes-or-no-p</span> <span class="p">(</span><span class="nf">?question</span><span class="p">)</span> 
 <span class="p">(</span><span class="nf">bind</span> <span class="nv">?response</span> <span class="p">(</span><span class="nf">ask-question</span> <span class="nv">?question</span> <span class="nv">yes</span> <span class="nv">no</span> <span class="err">у</span> <span class="nv">n</span><span class="p">))</span> 
 <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">or </span><span class="p">(</span><span class="nf">eq</span> <span class="nv">?response</span> <span class="nv">yes</span><span class="p">)</span> <span class="p">(</span><span class="nf">eq</span> <span class="nv">?response</span> <span class="nv">y</span><span class="p">))</span> <span class="nv">then</span>
  <span class="nv">TRUE</span> 
 <span class="nv">else</span>
  <span class="nv">FALSE</span><span class="p">)</span>
 <span class="p">)</span>
<span class="p">)</span>
</code></pre>
</div><p>Далее следует основные и единственное правило в нашем примере:</p>
<div class="highlight"><pre><code class="clojure"><span class="p">(</span><span class="nf">defrule</span> <span class="nv">dela</span>  <span class="s">&quot;&quot;</span> 
 <span class="p">(</span><span class="nb">not </span><span class="p">(</span><span class="nf">repair</span> <span class="nv">?</span><span class="p">)</span> <span class="p">)</span>
  <span class="nv">=&gt;</span>
   <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nf">yes-or-no-p</span> <span class="s">&quot;Все хорошо? &quot;</span><span class="p">)</span> <span class="nv">then</span>
    <span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nf">repair</span> <span class="s">&quot;веселый&quot;</span><span class="p">))</span>
   <span class="nv">else</span>
    <span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nf">repair</span> <span class="s">&quot;смурной&quot;</span><span class="p">))</span>
   <span class="p">)</span>
<span class="p">)</span>
</code></pre>
</div><p>тут мы проверяем начальные значения для выполнения правила и если они удовлетворяют нас, мы выполняем само правило, которое задает вопрос и устанавливает в переменной значение (в нашем случае это и есть конечный ответ). <br />
И в конце мы просто выводим установленный ранее ответ, особенность лишь одна, то что у данных правил установлен пониженный приоритет, что бы мы точно знали что они выполняться последними.</p>
<div class="highlight"><pre><code class="clojure"><span class="p">(</span><span class="nf">defrule</span> <span class="nv">system-banner</span> <span class="s">&quot;&quot;</span>
 <span class="p">(</span><span class="nf">declare</span> <span class="p">(</span><span class="nf">salience</span> <span class="mi">10</span><span class="p">))</span> 
  <span class="nv">=&gt;</span>
   <span class="p">(</span><span class="nf">printout</span> <span class="nv">t</span> <span class="nv">crlf</span> <span class="nv">crlf</span><span class="p">)</span>
   <span class="p">(</span><span class="nf">printout</span> <span class="nv">t</span> <span class="s">&quot;**********************************&quot;</span> <span class="nv">crlf</span><span class="p">)</span> 
   <span class="p">(</span><span class="nf">printout</span> <span class="nv">t</span> <span class="s">&quot;* Экспертная система      *&quot;</span> <span class="nv">crlf</span><span class="p">)</span> 
   <span class="p">(</span><span class="nf">printout</span> <span class="nv">t</span> <span class="s">&quot;**********************************&quot;</span> <span class="nv">crlf</span><span class="p">)</span>
   <span class="p">(</span><span class="nf">printout</span> <span class="nv">t</span> <span class="nv">crlf</span> <span class="nv">crlf</span><span class="p">)</span> 
<span class="p">)</span> 
<span class="p">(</span><span class="nf">defrule</span> <span class="nv">print-repair</span> <span class="s">&quot;&quot;</span>
 <span class="p">(</span><span class="nf">declare</span> <span class="p">(</span><span class="nf">salience</span> <span class="mi">10</span><span class="p">))</span> 
 <span class="p">(</span><span class="nf">repair</span> <span class="nv">?item</span><span class="p">)</span> 
  <span class="nv">=&gt;</span>
   <span class="p">(</span><span class="nf">printout</span> <span class="nv">t</span> <span class="nv">crlf</span> <span class="nv">crlf</span><span class="p">)</span>
   <span class="p">(</span><span class="nf">printout</span> <span class="nv">t</span> <span class="s">&quot;Вы:&quot;</span><span class="p">)</span>
   <span class="p">(</span><span class="nf">printout</span> <span class="nv">t</span>  <span class="nv">crlf</span>  <span class="nv">crlf</span><span class="p">)</span>
   <span class="p">(</span><span class="nf">format</span>  <span class="nv">t</span>   <span class="s">&quot;   %s%n%n%n&quot;</span>   <span class="nv">?item</span><span class="p">)</span>
<span class="p">)</span>
</code></pre>
</div>

	
		<h4>Posted 29 Nov 2009 by Anton Panasenko | tags:
		 
			
				<a href="/search/label/fl">fl</a>,
			 
		 
			
				<a href="/search/label/fp">fp</a>,
			 
		 
					
				<a href="/search/label/clips">clips</a>
			 
		 
			
				and <a href="/search/label/clojure">clojure</a>.
			 
		
	</h4>
</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
  (function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = 'http://dieu.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript">
	$('#main').removeClass('selected');
	$('#post').addClass('selected');
</script>

<!--

-->

	</div>
</div>
<!-- <div id="footer">
	<a href="">Source code</a>
</div> -->

 <script type="text/javascript">
var disqus_shortname = 'dieu';
(function () {
    var s = document.createElement('script'); s.async = true;
    s.src = 'http://disqus.com/forums/dieu/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
 </script>

  
<!-- Yandex.Metrika counter -->
<div style="display:none;"><script type="text/javascript">
(function(w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            w.yaCounter445478 = new Ya.Metrika(445478);
             yaCounter445478.clickmap(true);
             yaCounter445478.trackLinks(true);
        
        } catch(e) { }
    });
})(window, 'yandex_metrika_callbacks');
</script></div>
<script src="//mc.yandex.ru/metrika/watch.js" type="text/javascript" defer="defer"></script>
<noscript><img src="//mc.yandex.ru/watch/445478" style="position:absolute; left:-9999px;" alt="" /></noscript>
<!-- /Yandex.Metrika counter -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-6891853-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>