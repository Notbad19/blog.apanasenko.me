<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru">
	<head>
 	  	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	  	<title>
	    	 NoSQL  
	  	</title>
		<link rel="stylesheet" href="/css/style.css" type="text/css" media="all"/>
	</head>
<body>
<div id="header">
	<ul id="nav" class="nav"> 
		<li id="main" class="selected"><a href="/"><strong>Home</strong><span>main page</span></a></li> 
		<li id="post"><a href="/2009/12/nosql"><strong>Blog</strong> <span>post</span></a></li>
		<li id="archive"><a href="/archive"><strong>Archive</strong></a></li> 
		<li><a href="http://ru.linkedin.com/in/apanasenko/"><strong>LinkedIn</strong> <span>&rarr;</span></a></li> 
		<li><a href="http://github.com/dieu"><strong>Github</strong> <span>&rarr;</span></a></li> 
		<li><a href="http://twitter.com/apanasenko"><strong>Twitter</strong> <span>&rarr;</span></a></li> 
	</ul>
</div>
<div id="container">			
	<div class="bar"> 
	</div> 
	<br/>
	<div id="content">
			<!-- <span id="article_buttons">
  <a id="tweet">
    <span class="balloon">tweet!</span> <img src="/images/tweet.png"/ alt="tweet"/>
  </a>
  <a href="http://feeds.feedburner.com/apanasenko">
    <span class="balloon">subscribe!</span> <img src="/images/feed.png" alt="feed"/> 
  </a>
</span>

<hr/> -->

<div class="content">
	<center><img alt="NoSQL" height="160" src="http://lh6.ggpht.com/_wN3Yn5K_LYs/SxvK3DAKbdI/AAAAAAAAAEc/83Uitfm8kRY/1.png?imgmax=750" width="750" /></center>
<p><b>NoSQL</b> &#8211; новый тренд в IT технологиях, подносящиеся как спасительный круг и избавитель от всех насущных проблем. В основе данного направление лежит отказ от языка <span class="caps">SQL</span> и от реалиционных баз данных, как частности. Беспрецедентные объемы данных заставили бизнес взглянуть на альтернативы традиционной технологии реляционных баз данных, которые служили нам добрую службу более тридцати лет. В совокупности эти альтернативы стали известны как &#8220;<b>NoSQL</b> базы данных&#8221;. Что же плохого в <span class="caps">SQL</span> и реалиционных базах данных? Как говорят &#8220;проповедники&#8221; нового учения, это:</p>
<ol>
	<li>Строгая схема данных</li>
	<li>Плохая масштабируемость</li>
	<li>Низкая производительность</li>
</ol>
<p>Это не полный список &#8220;недостатков&#8221;, но он отражает направленность <b>NoSQL</b> движения и основополагающие концепции. <br />
Основной проблемой является то, что реляционные базы данных не могут справиться со многими современными нагрузками. Из этого можно выделить три конкретные проблемные области: масштабируемость данных (<a href="http://blog.digg.com/?p=966">Digg&#8217;s 3 ТБ</a>, <a href="http://www.cs.cornell.edu/projects/ladis2009/papers/lakshman-ladis2009.pdf">Facebook&#8217;s 50 ТБ</a>, <a href="http://qconsf.com/sf2009/file?path=/QConSF2007/slides/public/RandyShoup_eBayArchPrinciples.pdf">eBay&#8217;s 2 PB</a>), производительность сервера СУБД, строгая схема данных.</p>
<p>Термин <b>NoSQL</b> был придуман на самом деле <a href="http://blog.sym-link.com/2009/10/30/nosql_whats_in_a_name.html">Эриком Эвансом</a>, когда Johan Oskarsson из Last.fm хотел организовать мероприятие для обсуждения распределенных баз данных с открытым исходным кодом.</p>
<p>Для лучшей ясности нужно рассмотреть все эти проблемы с болле детальной стороны.</p>
<p><b>Масштабирование</b> чтения данных легко организовать с помощью репликаций(мастер-слейв), так что когда мы говорим о масштабировании, нужно иметь в виду масштабирование записи данных(автоматическое разделение данных между несколькими машинами). Есть несколько ярких примеров распределенных баз данных &#8211; это <a href="http://incubator.apache.org/cassandra/">Cassandra</a>, <a href="http://hadoop.apache.org/hbase/">HBase</a>, <a href="http://riak.basho.com/">Riak</a>, <a href="http://code.google.com/p/scalaris/">Scalaris</a>, <a href="http://project-voldemort.com/"> Voldemort</a> и многое другие.</p>
<p>Есть две вещи, которые  имеют наибольшую важность распределенной базе данных:</p>
<ol>
	<li>поддержка нескольких нод обработки данных</li>
	<li>возможность добавлять новые машины к кластеру(без остановки приложения) прозрачно для ваших приложений.</li>
</ol>
<div style="text-align: center;"><img alt="Базы данных" border="0" src="http://lh5.ggpht.com/_wN3Yn5K_LYs/SxwYMrsyaEI/AAAAAAAAAEk/tnf68FINxGw/NoSQL_1_New.png?imgmax=750" width="750" /></div>
<p>Нераспределеными базами данными пока являются <a href="http://couchdb.apache.org/">CouchDB</a> (существует отдельный проект Lounge, для создания рапределенности), <a href="http://www.mongodb.org/display/DOCS/Home">MongoDB</a> (имееться ограниченная поддержка шардинга), <a href="http://neo4j.org/">Neo4j</a>, <a href="http://code.google.com/p/redis/">Redis</a> и <a href="http://1978th.net/tokyocabinet/">Tokyo Cabinet</a> (может быть использовать в качестве механизма хранения Voldemort).</p>
<p>Существует огромное многообразие <b>моделей данных и запросов <span class="caps">API</span></b> в NoSQL баз данных.<br />
<div style="text-align: center;"><img alt="API запросов и модели данных" border="0" src="http://lh3.ggpht.com/_wN3Yn5K_LYs/SxwbX6nDyLI/AAAAAAAAAEo/Fd5QY6wP-hU/NoSQL_2_New.png?imgmax=750" width="750" /></div><br />
<b>Cassandra</b> и <b>HBase</b> вдохновившись <a href="http://labs.google.com/papers/bigtable-osdi06.pdf">описанием BigTable</a> компании Google использовали Columnfamily модель в своией основе. В обеих системах, у вас есть строки и столбцы, как вы привыкли видеть.</p>
<p>Модель <b>Key/Value</b> является наиболее простой в реализации, но неэффективной, когда вы заинтересованы только в запросах или обновлении части значений. Также трудно осуществить более сложные структуры поверх распределенной схемы Key/Value.</p>
<p><b>Документно-ориентированные</b> базы данных по существу являются следующим уровенем Key/Value модели, позволяя связывать более сложные структуры с ключом.</p>
<p><b>Neo4J</b> обладает поистине уникальной моделью данных, хранения объектов и отношений в качестве узлов и ребер графа. Запросы, которые соответствуют этой модели могут быть <a href="http://www.slideshare.net/emileifrem/neo4j-the-benefits-of-graph-databases-oscon-2009">в 1000s раз быстрее</a>, чем альтернативы.</p>
<p><b>Scalaris</b> уникальна в предложенной системе распределенных транзакций между несколькими ключами.</p>
<p>Как же эти базы данных сохраняют данные внутри себя?<br />
<div style="text-align: center;"><img alt="Хранения данных" border="0" src="http://lh3.ggpht.com/_wN3Yn5K_LYs/SxwggBnqfZI/AAAAAAAAAEs/bCwbrcPIxa8/NoSQL_3.png?imgmax=750" width="750" /></div><br />
<b>In-memory</b> базы данных очень быстрые (<a href="http://code.google.com/p/redis/wiki/Benchmarks">Redis достигает более 100000 операций в секунду на одной машине</a>), но не могут работать с объёмом данных, который превышает объём оперативной памяти. Персистентное хранение также проблема для данных баз данных.</p>
<p><b>Memtables/SSTables</b> записывают всю информацию в буфер памяти (&#8220;memtable&#8221;), после чего добавляет коммит в durability лог. Когда достаточно информации было записано, memtable сортируется и записывается на диск в качестве &#8220;sstable.&#8221;</p>
<p><b>B-tree</b> использовались в базах данных практически с самых первых реализаций. Они обеспечивают надежную поддержку индексирования, но с очень маленькой производительностью на жестких дисках(которые по-прежнему наиболее экономически выгодны) из-за многочисленных чтений или записей.</p>
<p>Интересным вариантом является CouchDB, которая использует B-tree только на добавление данных, что позволяет избежать накладных расходов на обновление данных.</p>
<p>Оригинал: <a href="http://www.rackspacecloud.com/blog/2009/11/09/nosql-ecosystem/">NoSQL Ecosystem</a></p>

	
		<h4>Posted 07 Dec 2009 by Anton Panasenko | tags:
		 
					
				<a href="/search/label/db">db</a>
			 
		 
			
				and <a href="/search/label/nosql">nosql</a>.
			 
		
	</h4>
</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
  (function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = 'http://dieu.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript">
	$('#main').removeClass('selected');
	$('#post').addClass('selected');
</script>

<!--

-->

	</div>
</div>
<!-- <div id="footer">
	<a href="">Source code</a>
</div> -->

 <script type="text/javascript">
var disqus_shortname = 'dieu';
(function () {
    var s = document.createElement('script'); s.async = true;
    s.src = 'http://disqus.com/forums/dieu/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
 </script>

  
<!-- Yandex.Metrika counter -->
<div style="display:none;"><script type="text/javascript">
(function(w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            w.yaCounter445478 = new Ya.Metrika(445478);
             yaCounter445478.clickmap(true);
             yaCounter445478.trackLinks(true);
        
        } catch(e) { }
    });
})(window, 'yandex_metrika_callbacks');
</script></div>
<script src="//mc.yandex.ru/metrika/watch.js" type="text/javascript" defer="defer"></script>
<noscript><img src="//mc.yandex.ru/watch/445478" style="position:absolute; left:-9999px;" alt="" /></noscript>
<!-- /Yandex.Metrika counter -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-6891853-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>