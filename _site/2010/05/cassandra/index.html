<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru">
	<head>
 	  	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	  	<title>
	    	 Cassandra  
	  	</title>
		<link rel="stylesheet" href="/css/style.css" type="text/css" media="all"/>
	</head>
<body>
<div id="header">
	<ul id="nav" class="nav"> 
		<li id="main" class="selected"><a href="/"><strong>Home</strong><span>main page</span></a></li> 
		<li id="post"><a href="/2010/05/cassandra"><strong>Blog</strong> <span>post</span></a></li>
		<li id="archive"><a href="/archive"><strong>Archive</strong></a></li> 
		<li><a href="http://ru.linkedin.com/in/apanasenko/"><strong>LinkedIn</strong> <span>&rarr;</span></a></li> 
		<li><a href="http://github.com/dieu"><strong>Github</strong> <span>&rarr;</span></a></li> 
		<li><a href="http://twitter.com/apanasenko"><strong>Twitter</strong> <span>&rarr;</span></a></li> 
	</ul>
</div>
<div id="container">			
	<div class="bar"> 
	</div> 
	<br/>
	<div id="content">
			<!-- <span id="article_buttons">
  <a id="tweet">
    <span class="balloon">tweet!</span> <img src="/images/tweet.png"/ alt="tweet"/>
  </a>
  <a href="http://feeds.feedburner.com/apanasenko">
    <span class="balloon">subscribe!</span> <img src="/images/feed.png" alt="feed"/> 
  </a>
</span>

<hr/> -->

<div class="content">
	<center><a href="http://cassandra.apache.org/media/img/cassandra_logo.png"><img height="64" src="http://cassandra.apache.org/media/img/cassandra_logo.png" width="320" /></a></center>
<p><strong>Cassandra</strong> &#8211; это <strong>NoSQL</strong> хранилище данных, которое родилось в <strong>Facebook</strong> и успешно используется в таких крупных веб проектах, как <strong>Digg</strong>, <strong>Twitter</strong> и других. <strong>Cassandra</strong> основана на <strong>Columnfamily</strong> (первый кто использовал данный подход в NoSQL хранилище <a href="http://labs.google.com/papers/bigtable-osdi06.pdf">Google co своей BigTable</a> ) моделе. В ней, у вас есть строки и столбцы, как вы и привыкли видеть.</p>
<h4>Почему Cassandra?</h4>
<ol>
	<li>У <span class="caps">RDMS</span> слишком много случайных операций ввода/вывода</li>
	<li>Файл-решения требует слишком много локов</li>
</ol>
<h4>Что предлагает Cassandra?</h4>
<ol>
	<li>Масштабирование</li>
	<li>Балансировка нагрузки, добавление нод на лету</li>
	<li>Гибкие схемы хранения данных</li>
	<li>Key ориентированные запросы</li>
	<li>AP из теоремы <span class="caps">CAP</span></li>
</ol>
<h4><span class="caps">CAP</span> теорема</h4>
<p>В теореме <span class="caps">CAP</span> (<a href="http://www.cs.berkeley.edu/~brewer/cs262b-2004/PODC-keynote.pdf">Брюэр</a> ) говорится, что вы можете получить два свойства из 3х (<strong>Consistency, Availability, Partition tolerance</strong>). Вы не можете иметь все 3 свойства и иметь приемлемый <strong>latency</strong>.</p>
<p>Cassandra предлагает нам  Availability и Partitioning tolerance (AP). Компромисс между Сonsistency и Latency можно настроить в ней, вы можете получить усиленное Сonsistency, но заплатите за это увеличением задержек.</p>
<h4>История и подходы</h4>
<p>Существуют две известные работы:</p>
<ol>
	<li>BigTable: распределенная система хранения структурированных данных, 2006</li>
	<li>Dynamo: Key-Value сторадж Амазона, 2007</li>
</ol>
<p>Cassandra взяла лучшие из данных подходов:</p>
<ol>
	<li>Из Dynamo partitioning и replication</li>
	<li>Структурированную ColumnFamily модель данных похожую на BigTable</li>
</ol>
<h4>Cassandra дает:</h4>
<ol>
	<li>Высокая доступность</li>
	<li>Возрастающая масштабируемость</li>
	<li>В конечном итоге Сonsistency</li>
	<li>Настраиваемый компромисс между Сonsistency и Latency</li>
	<li>Минимальную настройку (имеется виду простота настройки, а неё скудность)</li>
	<li>Нет <span class="caps">SPF</span> (единой точки отказа)*</li>
</ol>
<p>*p2p модель распределения &#8211; подразумевает отсутствие единой точки отказа.</p>
<h4>Распределение и разделение ключей</h4>
<p>В Cassandra используется <a href="http://s3.amazonaws.com/AllThingsDistributed/sosp/amazon-dynamo-sosp2007.pdf">архитектура поиска Dynamo</a><br />
Не которые тезисы:</p>
<ol>
	<li>поиск узла за O(1)</li>
	<li>Явные репликации</li>
	<li>В конечном итоге Сonsistency</li>
</ol>

	
		<h4>Posted 02 May 2010 by Anton Panasenko | tags:
		 
			
				<a href="/search/label/java">java</a>,
			 
		 
					
				<a href="/search/label/nosql">nosql</a>
			 
		 
			
				and <a href="/search/label/cassandra">cassandra</a>.
			 
		
	</h4>
</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
  (function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = 'http://dieu.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript">
	$('#main').removeClass('selected');
	$('#post').addClass('selected');
</script>

<!--

-->

	</div>
</div>
<!-- <div id="footer">
	<a href="">Source code</a>
</div> -->

 <script type="text/javascript">
var disqus_shortname = 'dieu';
(function () {
    var s = document.createElement('script'); s.async = true;
    s.src = 'http://disqus.com/forums/dieu/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
 </script>

  
<!-- Yandex.Metrika counter -->
<div style="display:none;"><script type="text/javascript">
(function(w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            w.yaCounter445478 = new Ya.Metrika(445478);
             yaCounter445478.clickmap(true);
             yaCounter445478.trackLinks(true);
        
        } catch(e) { }
    });
})(window, 'yandex_metrika_callbacks');
</script></div>
<script src="//mc.yandex.ru/metrika/watch.js" type="text/javascript" defer="defer"></script>
<noscript><img src="//mc.yandex.ru/watch/445478" style="position:absolute; left:-9999px;" alt="" /></noscript>
<!-- /Yandex.Metrika counter -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-6891853-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>